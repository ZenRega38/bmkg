<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/x-icon" href="assets/image/logo_noname.png">
    <title>Wisata - BMKG Tarakan</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="css/wisata.css">
    <link rel="stylesheet" href="css/outer.css">
</head>
<body>
<?php include 'header.php'; ?>
<script src="assets/script/nav.js"></script>
<section class="card-grid">
    <div class="card-item">
        <div class="card-image">
            <div class="image-container">
                <img src="assets/image/wisata/tarakan/taman_berlabuh/1.png" alt="Image 1">
                <img src="assets/image/wisata/tarakan/taman_berlabuh/2.png" alt="Image 2">
                <img src="assets/image/wisata/tarakan/taman_berlabuh/3.png" alt="Image 3">
                <img src="assets/image/wisata/tarakan/taman_berlabuh/4.png" alt="Image 4">
            </div>
        </div>
        <div id="map-container1" class="map-container">
          
        </div>
        <div class="card-content">
            <h2 class="card-title">Taman Berlabuh</h2>
            <div class="card-rating">
                <span class="rating-stars">4.3 ★★★★☆</span>
                <span class="rating-count">(2,086)</span>
            </div>
            <p class="card-description">Tourist attraction · <span class="open-status">Open 24 hours</span></p>
            <p class="card-description">Karang Anyar, Tarakan Barat, Tarakan City, North Kalimantan</p>
            <div class="card-weather">
                <span class="weather-temp"></span>
                <span class="weather-desc"></span>
                <p class="weather-advice"></p>
            </div>
            <div class="card-actions">
                <a href="https://www.google.co.id/maps/dir//7HPR%2BGRW+Taman+Berlabuh,+Karang+Anyar,+Tarakan+Barat,+Tarakan+City,+North+Kalimantan/@3.2863568,117.5894926,17z/data=!4m8!4m7!1m0!1m5!1m1!1s0x32138afebf223fa9:0x87fb7f6f40e19413!2m2!1d117.5920675!2d3.2863568?entry=ttu&g_ep=EgoyMDI1MDEyMS4wIKXMDSoASAFQAw%3D%3D" class="navigation-button">
                    <img src="assets/image/direction.png"></img>
                </a>
            </div>
        </div>
    </div>

    <div class="card-item">
      <div class="card-image">
            <div class="image-container">
                <img src="assets/image/wisata/tarakan/taman_berkampung/1.png" alt="Image 1">
                <img src="assets/image/wisata/tarakan/taman_berkampung/2.png" alt="Image 2">
            </div>
          
      </div>
        <div id="map-container2" class="map-container">

        </div>
      <div class="card-content">
            <h2 class="card-title">Taman Berkampung</h2>
            <div class="card-rating">
                <span class="rating-stars">4.4 ★★★★☆</span>
                <span class="rating-count">(1,557)</span>
            </div>
           <p class="card-description">Park · <span class="open-status">Open 24 hours</span></p>
           <p class="card-description">Kampung Empat, Tarakan Timur, Tarakan City, North Kalimantan</p>
           <div class="card-weather">
                <span class="weather-temp"></span>
                <span class="weather-desc"></span>
                <p class="weather-advice"></p>
            </div>
            <div class="card-actions">
                <a href="https://www.google.co.id/maps/dir//7JX9%2BRQ6+Taman+Berkampung,+Kampung+Empat,+Tarakan+Timur,+Tarakan+City,+North+Kalimantan/@3.2995442,117.6168096,17z/data=!4m16!1m7!3m6!1s0x32138bed1cc62cc1:0x726a0029fcc479d4!2sTaman+Berkampung!8m2!3d3.2995442!4d117.6193845!16s%2Fg%2F11gqpxjjc0!4m7!1m0!1m5!1m1!1s0x32138bed1cc62cc1:0x726a0029fcc479d4!2m2!1d117.6193845!2d3.2995442?entry=ttu&g_ep=EgoyMDI1MDEyMS4wIKXMDSoASAFQAw%3D%3D" class="navigation-button">
                    <img src="assets/image/direction.png"></img>
                </a>
            </div>
        </div>
    </div>

    <div class="card-item">
       <div class="card-image">
            <div class="image-container">
                <img src="assets/image/wisata/tarakan/mangrove/1.png" alt="Image 1">
                <img src="assets/image/wisata/tarakan/mangrove/2.png" alt="Image 2">
                <img src="assets/image/wisata/tarakan/mangrove/3.png" alt="Image 3">
                <img src="assets/image/wisata/tarakan/mangrove/4.png" alt="Image 4">
            </div>
            
      </div>
        <div id="map-container3" class="map-container">

        </div>
        <div class="card-content">
            <h2 class="card-title">Konservasi Mangrove dan Bekantan</h2>
            <div class="card-rating">
                <span class="rating-stars">4.3 ★★★★☆</span>
                <span class="rating-count">(2,577)</span>
            </div>
            <p class="card-description">Nature Conservation · <span class="open-status">7am - 5pm</span></p>
            <p class="card-description">Karang Rejo, Tarakan Barat, Karang Rejo, Kec. Tarakan Bar., Kota Tarakan, Kalimantan Utara</p>
            <div class="card-weather">
                <span class="weather-temp"></span>
                <span class="weather-desc"></span>
                <p class="weather-advice"></p>
            </div>
            <div class="card-actions">
                <a href="https://www.google.co.id/maps/dir//Kawasan+Konservasi+Mangrove+Dan+Bekantan,+Karang+Rejo,+Tarakan+Barat,+Karang+Rejo,+Kec.+Tarakan+Bar.,+Kota+Tarakan,+Kalimantan+Utara/@3.305523,117.5008878,13z/data=!4m8!4m7!1m0!1m5!1m1!1s0x32138a9448a0a9ed:0xbaf2f265d3abbe0!2m2!1d117.5771055!2d3.305523?entry=ttu&g_ep=EgoyMDI1MDEyMS4wIKXMDSoASAFQAw%3D%3D" class="navigation-button">
                    <img src="assets/image/direction.png"></img>
                </a>
            </div>
        </div>
    </div>

    <div class="card-item">
       <div class="card-image">
        <div class="image-container">
            <img src="assets/image/wisata/tarakan/amal/1.png" alt="Image 1">
            <img src="assets/image/wisata/tarakan/amal/2.png" alt="Image 2">
            <img src="assets/image/wisata/tarakan/amal/3.png" alt="Image 3">
        </div>
         
      </div>
         <div id="map-container4" class="map-container">

         </div>
        <div class="card-content">
            <h2 class="card-title">Pantai Amal</h2>
            <div class="card-rating">
                <span class="rating-stars">4.0 ★★★★☆</span>
                <span class="rating-count">(377)</span>
            </div>
           <p class="card-description">Nature Attraction · <span class="open-status">Open 24 hours</span></p>
           <p class="card-description">Pantai Amal, Tarakan Timur, Tarakan City, North Kalimantan</p>
           <div class="card-weather">
                <span class="weather-temp"></span>
                <span class="weather-desc"></span>
                <p class="weather-advice"></p>
            </div>
            <div class="card-actions">
                <a href="https://www.google.co.id/maps/dir//Pantai+Amal,+Tarakan+Timur,+Tarakan+City,+North+Kalimantan/@3.3127237,117.6095191,13z/data=!4m8!4m7!1m0!1m5!1m1!1s0x321389fc0b69b165:0xbe7423fd93e38927!2m2!1d117.6493515!2d3.3215344?entry=ttu&g_ep=EgoyMDI1MDEyMS4wIKXMDSoASAFQAw%3D%3D" class="navigation-button">
                    <img src="assets/image/direction.png"></img>
                </a>
            </div>
        </div>
    </div>

    <div class="card-item">
        <div class="card-image">
            <div class="image-container">
                <img src="assets/image/wisata/tarakan/binalatung/1.png" alt="Image 1">
                <img src="assets/image/wisata/tarakan/binalatung/2.png" alt="Image 2">
                <img src="assets/image/wisata/tarakan/binalatung/3.png" alt="Image 3">
            </div>
            
        </div>
        <div id="map-container5" class="map-container"></div>
        <div class="card-content">
            <h2 class="card-title">Pantai Binalatung</h2>
            <div class="card-rating">
                <span class="rating-stars">4.1 ★★★★☆</span>
                <span class="rating-count">(170)</span>
            </div>
            <p class="card-description">Nature Attraction · <span class="open-status">Open 24 hours</span></p>
            <p class="card-description">Jl. Ringroad Binalatung, Pantai Amal, Kec. Tarakan Tim., Kota Tarakan, Kalimantan Utara</p>
            <div class="card-weather">
                <span class="weather-temp"></span>
                <span class="weather-desc"></span>
                <p class="weather-advice"></p>
            </div>
            <div class="card-actions">
                <a href="https://www.google.co.id/maps/dir//Binalatung+Beach,+Pantai+Amal,+Tarakan+Timur,+Tarakan+City,+North+Kalimantan/@3.3205392,117.6477005,15z/data=!4m8!4m7!1m0!1m5!1m1!1s0x32147702c02edf31:0x826d4f4ac96cb7ad!2m2!1d117.6580003!2d3.3205393?entry=ttu&g_ep=EgoyMDI1MDEyMS4wIKXMDSoASAFQAw%3D%3D" class="navigation-button">
                    <img src="assets/image/direction.png"></img>
                </a>
            </div>
        </div>
    </div>

    <div class="card-item">
        <div class="card-image">
            <div class="image-container">
                <img src="assets/image/wisata/tarakan/kingdom_farm/1.png" alt="Image 1">
                <img src="assets/image/wisata/tarakan/kingdom_farm/2.png" alt="Image 2">
                <img src="assets/image/wisata/tarakan/kingdom_farm/3.png" alt="Image 3">
            </div>
            
        </div>
        <div id="map-container6" class="map-container"></div>
        <div class="card-content">
            <h2 class="card-title">Rain Forest Kingdom Farm</h2>
            <div class="card-rating">
                <span class="rating-stars">4.2 ★★★★☆</span>
                <span class="rating-count">(24)</span>
            </div>
            <p class="card-description">Religious Landmark · <span class="open-status">Open 24 hours</span></p>
            <p class="card-description">Juata Laut, Tarakan Utara, Tarakan City, North Kalimantan</p>
            <div class="card-weather">
                <span class="weather-temp"></span>
                <span class="weather-desc"></span>
                <p class="weather-advice"></p>
            </div>
            <div class="card-actions">
                <a href="https://www.google.co.id/maps/dir//9HQ2%2B2RX+Rain+Forest+Kingdom+Farm,+Juata+Laut,+Kec.+Tarakan+Utara,+Kota+Tarakan,+Kalimantan+Utara/@3.38769,117.5521869,17z/data=!4m16!1m7!3m6!1s0x3214736ddce7bba9:0x41640ff4094c7bfb!2sRain+Forest+Kingdom+Farm!8m2!3d3.3876237!4d117.5521066!16s%2Fg%2F11v9ldxd7_!4m7!1m0!1m5!1m1!1s0x3214736ddce7bba9:0x41640ff4094c7bfb!2m2!1d117.5521066!2d3.3876237?entry=ttu&g_ep=EgoyMDI1MDEyMS4wIKXMDSoASAFQAw%3D%3D" class="navigation-button">
                    <img src="assets/image/direction.png"></img>
                </a>
            </div>
        </div>
    </div>

    <div class="card-item">
        <div class="card-image">
            <div class="image-container">
                <img src="assets/image/wisata/tarakan/persemaian/1.png" alt="Image 1">
                <img src="assets/image/wisata/tarakan/persemaian/2.png" alt="Image 2">
                <img src="assets/image/wisata/tarakan/persemaian/3.png" alt="Image 3">
            </div>
        </div>
        <div id="map-container6" class="map-container"></div>
        <div class="card-content">
            <h2 class="card-title">Wisata Persemaian</h2>
            <div class="card-rating">
                <span class="rating-stars">4.4 ★★★★☆</span>
                <span class="rating-count">(130)</span>
            </div>
            <p class="card-description">Tourist Attraction · <span class="open-status">Open 24 hours</span></p>
            <p class="card-description">Juata Kerikil, Tarakan Utara, Tarakan City, North Kalimantan</p>
            <div class="card-weather">
                <span class="weather-temp"></span>
                <span class="weather-desc"></span>
                <p class="weather-advice"></p>
            </div>
            <div class="card-actions">
                <a href="https://www.google.co.id/maps/dir//9H49%2B9PF+Wisata+Persemaian,+Juata+Kerikil,+Kec.+Tarakan+Utara,+Kota+Tarakan,+Kalimantan+Utara/@3.3559286,117.5667146,17z/data=!4m8!4m7!1m0!1m5!1m1!1s0x3214750d8951c09f:0x4f3a9a5c3d27367b!2m2!1d117.5692895!2d3.3559286?entry=ttu&g_ep=EgoyMDI1MDEyMS4wIKXMDSoASAFQAw%3D%3D" class="navigation-button">
                    <img src="assets/image/direction.png"></img>
                </a>
            </div>
        </div>
    </div>

    <div class="card-item">
        <div class="card-image">
            <div class="image-container">
                <img src="assets/image/wisata/tarakan/kampung_nelayan/1.png" alt="Image 1">
                <img src="assets/image/wisata/tarakan/kampung_nelayan/2.png" alt="Image 2">
            </div>  
        </div>
        <div id="map-container6" class="map-container"></div>
        <div class="card-content">
            <h2 class="card-title">Kampung Nelayan Juata Laut</h2>
            <div class="card-rating">
                <span class="rating-stars">4.9 ★★★★★</span>
                <span class="rating-count">(9)</span>
            </div>
            <p class="card-description">Tourist Attraction · <span class="open-status">Open 24 hours</span></p>
            <p class="card-description">Jl. Kakap, Juata Laut, Kec. Tarakan Utara, Kalimantan Utara</p>
            <div class="card-weather">
                <span class="weather-temp"></span>
                <span class="weather-desc"></span>
                <p class="weather-advice"></p>
            </div>
            <div class="card-actions">
                <a href="https://www.google.co.id/maps/dir//CGPV%2BH56+Kampung+Nelayan+Juata+Laut,+Jl.+Kakap,+Juata+Laut,+Tarakan+Utara,+North+Kalimantan/@3.3613769,117.5180613,12z/data=!4m8!4m7!1m0!1m5!1m1!1s0x32140d8c1ac9bbcd:0x6fc1730719facad7!2m2!1d117.5428768!2d3.4364051?entry=ttu&g_ep=EgoyMDI1MDEyMS4wIKXMDSoASAFQAw%3D%3D" class="navigation-button">
                    <img src="assets/image/direction.png"></img>
                </a>
            </div>
        </div>
    </div>
</section>
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script>

        document.addEventListener('DOMContentLoaded', function() {
            const cardGrid = document.querySelector('.card-grid');
            const mapContainers = cardGrid.querySelectorAll('.map-container');

             const locations = [
                { lat: 3.286493, lng: 117.592242, zoom: 15 },
                { lat: 3.299416, lng: 117.619312, zoom: 15 },
                { lat: 3.305421, lng: 117.577105, zoom: 16 },
                { lat: 3.304793, lng: 117.656830, zoom: 17 },
                { lat: 3.254906, lng: 117.655831, zoom: 15 },
                { lat: 3.387490, lng: 117.551798, zoom: 14 },
                { lat: 3.356082, lng: 117.569594, zoom: 15 }, 
                { lat: 3.308961, lng: 117.611501, zoom: 14 } 
            ];

            mapContainers.forEach((container, index) => {
                 const uniqueMapId = `map${index + 1}`;
                 container.innerHTML = `<div id="${uniqueMapId}"></div>`;
                const map = L.map(uniqueMapId, {
                     zoomControl: false, // disable zoom control
                    attributionControl: false // disable attribution
                }).setView([locations[index].lat, locations[index].lng], locations[index].zoom);

                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                     maxZoom: 19,
                 }).addTo(map);
                 const apiKey = 'f1749350b540a2ca3c0b6a869d96894e';

               L.tileLayer(`https://tile.openweathermap.org/map/precipitation_new/{z}/{x}/{y}.png?appid=${apiKey}`, {
                      zIndex : 50,
                      maxZoom : 19
               }).addTo(map);

            });
        });
    </script>
    <script>
         document.addEventListener('DOMContentLoaded', function() {
    const cardGrid = document.querySelector('.card-grid');
    const mapContainers = cardGrid.querySelectorAll('.map-container');
    const locations = [
        { lat: 3.286493, lng: 117.592242, adm4: "65.71.02.1003" },
        { lat: 3.299416, lng: 117.619312, adm4: "65.71.02.1002" },
        { lat: 3.305421, lng: 117.577105, adm4: "65.71.01.1005" },
        { lat: 3.304793, lng: 117.656830, adm4: "65.71.01.1004" },
        { lat: 3.254906, lng: 117.655831, adm4: "65.71.01.1003" },
        { lat: 3.387490, lng: 117.551798, adm4: "65.71.01.1002" },
        { lat: 3.356082, lng: 117.569594, adm4: "65.71.01.1001" },
        { lat: 3.308961, lng: 117.611501, adm4: "65.71.02.1001" }
    ];

    mapContainers.forEach((container, index) => {
        const uniqueMapId = `map${index + 1}`;
        container.innerHTML = `<div id="${uniqueMapId}"></div>`;
        const map = L.map(uniqueMapId, {
            zoomControl: false,
            attributionControl: false
        }).setView([locations[index].lat, locations[index].lng], 15);
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19,
        }).addTo(map);
        const apiKey = 'f1749350b540a2ca3c0b6a869d96894e';
        L.tileLayer(`https://tile.openweathermap.org/map/precipitation_new/{z}/{x}/{y}.png?appid=${apiKey}`, {
            zIndex : 50,
            maxZoom : 19
        }).addTo(map);
    });

    const cardItems = document.querySelectorAll('.card-item');

    cardItems.forEach((card, index) => {
        const location = locations[index];
        const weatherContainer = card.querySelector('.card-weather');
        const tempSpan = weatherContainer.querySelector('.weather-temp');
        const descSpan = weatherContainer.querySelector('.weather-desc');
        const adviceP = weatherContainer.querySelector('.weather-advice');

        fetch(`https://api.bmkg.go.id/publik/prakiraan-cuaca?adm4=${location.adm4}`)
            .then(response => response.json())
            .then(data => {
                if(data && data.data && data.data[0] && data.data[0].cuaca){
                    const currentWeather = data.data[0].cuaca[0][0];
                    const temperature = currentWeather.t;
                    const currentDescription = currentWeather.weather_desc;
                    const currentCode = currentWeather.weather;
                    const iconUrl = currentWeather.image;

                    tempSpan.innerHTML = `<img src="${iconUrl}" alt="Weather Icon"><span>${temperature}°C</span>`;
                    descSpan.textContent = currentDescription;

                    const nextHoursWeather = data.data[0].cuaca[0].slice(1, 7); // Ambil 6 jam ke depan
                    const rainyHours = nextHoursWeather.filter(forecast => forecast.weather === 61 || forecast.weather === 95 || forecast.weather === 97);

                     let adviceText = `Saat ini cuaca ${currentDescription.toLowerCase()}. `;

                    if (currentCode === 60 || currentCode === 61 || currentCode === 95 || currentCode === 97) {
                    // Jika sekarang hujan, cari waktu pertama tidak hujan
                     const clearHours = nextHoursWeather.filter(forecast => forecast.weather !== 60 && forecast.weather !== 61 && forecast.weather !== 95 && forecast.weather !== 97);

                        if (clearHours.length > 0) {
                         const firstClearHour = clearHours[0];
                         const clearTime = new Date(firstClearHour.local_datetime);
                         const formattedClearTime = clearTime.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });
                          adviceText += `Sebaiknya datang setelah jam ${formattedClearTime} ya, saat cuaca sudah membaik!`;
                        } else {
                           adviceText += "Sepertinya hujan akan berlangsung cukup lama, sebaiknya tunda dulu kunjungan kamu!";
                         }
                       }else if (rainyHours.length > 0) {
                         const firstRainyHour = rainyHours[0];
                        const rainyTime = new Date(firstRainyHour.local_datetime).getHours();
                        const localTime = new Date(firstRainyHour.local_datetime);
                         const formattedTime = localTime.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' });
                         const rainType = firstRainyHour.weather;
                          if (rainType === 95 || rainType === 97) {
                           adviceText += `Sepertinya akan hujan lebat sekitar jam ${formattedTime}, sebaiknya tunda dulu kunjungan kamu!`;
                         } else {
                            adviceText += `Siapkan payung yaa, kayaknya jam ${formattedTime} hujan deh!`;
                          }
                         }
                     else if (temperature > 30) {
                        adviceText += "Jangan lupa pakai sunscreen yaa!";
                    } else {
                        adviceText += "Nikmati cuacanya yaa!";
                    }

                     adviceP.textContent = adviceText;
                  } else {
                    tempSpan.textContent = 'N/A';
                    descSpan.textContent = 'N/A';
                    adviceP.textContent = 'Cuaca tidak tersedia';
                }
            })
            .catch(error => {
                console.error("Error fetching weather data:", error);
                  tempSpan.textContent = 'N/A';
                  descSpan.textContent = 'N/A';
                 adviceP.textContent = 'Gagal mengambil data cuaca';
             });
    });
});
    </script>
    <script>
          document.addEventListener('DOMContentLoaded', function() {
        const cardItems = document.querySelectorAll('.card-item');

        cardItems.forEach(cardItem => {
            const cardImage = cardItem.querySelector('.card-image');
            if(!cardImage) return;
            let currentIndex = 0;
            const imageContainer = cardImage.querySelector('.image-container');
            const images = imageContainer.querySelectorAll('img');
            let intervalId;

            cardImage.addEventListener('mouseenter', () => {
                intervalId = setInterval(() => {
                    currentIndex = (currentIndex + 1) % images.length;
                    imageContainer.style.transform = `translateX(-${currentIndex * 100}%)`;
                 }, 1500); // Change image every 2 seconds
             });

           cardImage.addEventListener('mouseleave', () => {
             clearInterval(intervalId);
               imageContainer.style.transform = `translateX(0)`;
                currentIndex = 0;
            });
       });
     });
    </script>
    <?php include 'footer.php'; ?>
</body>
</html>